\frame{\frametitle{Separazione Modello-Vista}
  %inserire UML evidenziando separazione modello vista
}

\subsection{Rimozione \texttt{toString()} dalle classi di dominio}
\begin{frame}[fragile]
  \frametitle{Situazione pre-refactor}
  \begin{lstlisting}[autogobble, title={\texttt{toString()} di \texttt{Article.java}}]
  @Override
  public String toString() {
      StringBuilder sb = new StringBuilder();
      sb.append(/* Articolo con ID, categoria, stato... */);
      for (Map.Entry<String, String> field:
            fields.entrySet()) {
          sb.append(/* Campo con chiave, valore */);
      }
      return sb.toString();
  }
  \end{lstlisting}

  \begin{itemize}
    \item Il \emph{Model} dipende dalla \emph{View}
    \begin{itemize}
      \item Il \emph{Model} non Ã¨ riusabile (presuppone una CLI come \emph{View})
      \item Viola \textbf{Open-Closed Principle}
      \item Viola \textbf{Single Responsibility Principle}
    \end{itemize}
    \item \texttt{toString()} dovrebbe essere usato a scopo di \emph{debug}, non per l'interfaccia
  \end{itemize}
\end{frame}

\subsection{Estrazione dei Controller MVC dalle classi di presentazione}
\frame{\frametitle{MV $\to$ MVC}
precedente struttura M-V, controller erano GRASP, mentre ora estratti controller MVC  dalle view,
e fatti dialogare con controller GRASP (completa separazione MVC)
%inserire UML delle classi per mostrare differenza
}